<!-- 
  @Author: Cường GatsBy
  @Date:   2025-09-10 20:42:33
  @Last Modified by:   Your name
  @Last Modified time: 2025-12-28 15:30:50
-->
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="w1NH3M5PiBfskkvCzulARP0eFddvgKkWJs3E1GHuB2c" />
    <meta name="msvalidate.01" content="CACCA3CDB162ADDD475C6F85AEAFF2A6" />
    
    <!-- Meta tags tối ưu -->
    <title>Giáo Họ Trung Đồng - Giáo Xứ Lạc Thành - Giáo Phận Bùi Chu</title>
    <meta name="description" content="Nhà Thờ Giáo Họ Trung Đồng - Giáo Xứ Lạc Thành, Giáo Phận Bùi Chu.">
    <meta name="keywords" content="giaohotrungdong, nhathogiaohotrungdong, giaoxulacthanh, giaophanbuichu, xuanphu xuantruong namdinh">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://giaohotrungdong.com/">
    <meta property="og:title" content="Giáo Họ Trung Đồng - Giáo Xứ Lạc Thành">
    <meta property="og:description" content="Trang thông tin chính thức về Giáo Họ Trung Đồng, Giáo Xứ Lạc Thành, Giáo Phận Bùi Chu">
    <meta property="og:image" content="https://giaohotrungdong.com/images/og-image.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://giaohotrungdong.com/">
    <meta property="twitter:title" content="Giáo Họ Trung Đồng - Giáo Xứ Lạc Thành">
    <meta property="twitter:description" content="Trang thông tin chính thức về Giáo Họ Trung Đồng, Giáo Xứ Lạc Thành, Giáo Phận Bùi Chu">
    <meta property="twitter:image" content="https://giaohotrungdong.com/images/og-image.jpg">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <!-- Preload resources -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"></noscript>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    
    <!-- Animate CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <!-- Cloudflare Turnstile CAPTCHA -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8MXG2YVYK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-Y8MXG2YVYK');
    </script>
    
    <style>
        /* Custom CSS với thiết kế mới */
        :root {
            --primary-color: #8e7c4a; /* Màu vàng nâu trang trọng */
            --secondary-color: #2c3e50;
            --accent-color: #c9a86d; /* Màu vàng nhạt */
            --bg-color: #f8f9fa;
            --text-color: #333;
            --card-bg: #fff;
            --header-bg: rgba(255, 255, 255, 0.95);
            --footer-bg: #343a40;
            --nav-link-color: #333;
            --section-bg: #ffffff;
            --service-box-bg: rgba(255, 255, 255, 0.1);
            --gold-light: #d4c198;
            --gold-dark: #8a6d3b;
            --christmas-red: #e74c3c;
            --christmas-green: #1a472a;
            --christmas-gold: #f1c40f;
        }

        /* Dark mode variables */
        [data-theme="dark"] {
            --bg-color: #121212;
            --text-color: #f8f9fa;
            --card-bg: #1e1e1e;
            --header-bg: rgba(30, 30, 30, 0.95);
            --footer-bg: #121212;
            --secondary-color: #1a1a1a;
            --nav-link-color: #f8f9fa;
            --section-bg: #1e1e1e;
            --service-box-bg: rgba(30, 30, 30, 0.5);
            --gold-light: #c9a86d;
            --gold-dark: #d4c198;
        }
        
        /* Christmas & New Year Effects */
        .christmas-newyear-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9998;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .christmas-newyear-overlay.active {
            opacity: 1;
        }

        /* Floating Decorations */
        .floating-decoration {
            position: fixed;
            color: var(--christmas-red);
            font-size: 24px;
            z-index: 9999;
            pointer-events: none;
            opacity: 0.7;
            animation: float 6s ease-in-out infinite;
        }

        .floating-decoration.snowflake {
            color: #3498db;
            animation-delay: 0.5s;
        }

        .floating-decoration.star {
            color: var(--christmas-gold);
            animation-delay: 1s;
        }

        .floating-decoration.gift {
            color: var(--christmas-red);
            animation-delay: 1.5s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        /* Christmas Lights */
        .christmas-lights {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 20px;
            background: transparent;
            z-index: 9997;
            overflow: hidden;
        }

        .christmas-lights .light {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--christmas-red);
            animation: twinkle 1.5s infinite;
            animation-delay: calc(var(--i) * 0.2s);
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* Holiday Banner */
        .holiday-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(90deg, var(--secondary-color), var(--christmas-red), var(--secondary-color));
            color: white;
            padding: 10px 0;
            z-index: 10000;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.3);
            transition: opacity 0.3s;
        }

        .holiday-banner marquee {
            font-size: 1rem;
            font-weight: 500;
        }

        .greeting-text {
            margin: 0 20px;
        }

        .greeting-text i {
            margin: 0 10px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .holiday-toggle {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 10001;
        }

        .holiday-toggle:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-50%) scale(1.1);
        }

        /* Holiday Modal */
        .holiday-modal {
            background: linear-gradient(135deg, var(--christmas-green) 0%, var(--secondary-color) 100%);
            color: white;
            border: 2px solid var(--christmas-gold);
            border-radius: 15px;
        }

        .holiday-modal .modal-header {
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .holiday-modal .modal-title {
            color: var(--christmas-gold);
        }

        .holiday-icon {
            font-size: 3rem;
        }

        .holiday-icon i {
            margin: 0 10px;
            animation: spin 3s linear infinite;
        }

        .holiday-icon i:nth-child(2) {
            animation-delay: 0.5s;
            color: var(--christmas-gold);
        }

        .holiday-icon i:nth-child(3) {
            animation-delay: 1s;
            color: var(--christmas-red);
        }

        @keyframes spin {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }

        /* Countdown */
        .countdown-container {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .countdown-item {
            background: rgba(0,0,0,0.3);
            padding: 10px 15px;
            border-radius: 8px;
            min-width: 80px;
        }

        .countdown-item span {
            display: block;
            font-size: 2rem;
            font-weight: bold;
            color: var(--christmas-gold);
        }

        .countdown-item small {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        /* Festive Button */
        .btn-festive {
            background: linear-gradient(45deg, var(--christmas-red), var(--christmas-gold));
            color: white;
            border: none;
            position: relative;
            overflow: hidden;
        }

        .btn-festive::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .btn-festive:hover::before {
            left: 100%;
        }

        /* Festive Theme Updates */
        .festive-theme .navbar {
            background: linear-gradient(90deg, var(--secondary-color), var(--christmas-green), var(--secondary-color)) !important;
        }

        .festive-theme .service-box {
            border-bottom: 4px solid var(--christmas-red);
        }

        .festive-theme .service-box:hover {
            box-shadow: 0 15px 40px rgba(231, 76, 60, 0.2);
        }

        /* Music Control Button */
        .music-control {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            border: none;
            z-index: 10001;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }

        .music-control:hover {
            transform: scale(1.1);
            background: var(--gold-dark);
        }

        /* Responsive Adjustments for Holiday Elements */
        @media (max-width: 768px) {
            .floating-decoration {
                font-size: 18px;
            }
            
            .countdown {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .countdown-item {
                min-width: 70px;
                padding: 8px 10px;
            }
            
            .countdown-item span {
                font-size: 1.5rem;
            }
            
            .holiday-banner marquee {
                font-size: 0.8rem;
            }
            
            .holiday-toggle {
                right: 10px;
                width: 30px;
                height: 30px;
            }
            
            .music-control {
                bottom: 70px;
                right: 10px;
                width: 40px;
                height: 40px;
            }
        }
        
        /* CAPTCHA Modal Styles */
        .captcha-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            font-family: 'Roboto', sans-serif;
        }

        .captcha-container {
            background: linear-gradient(135deg, #8e7c4a 0%, #2c3e50 100%);
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            color: white;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .captcha-container h2 {
            margin-bottom: 20px;
            color: #fff;
            font-size: 1.8rem;
        }

        .captcha-container p {
            margin-bottom: 30px;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .captcha-verified {
            display: none;
            background: #27ae60;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        /* Ẩn nội dung chính khi chưa xác thực */
        body.captcha-required #main-content {
            display: none;
        }
        
        /* Font chữ */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
        }
        
        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.8s ease-out;
        }
        
        /* Navigation */
        .navbar {
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            background-color: var(--header-bg) !important;
            padding: 15px 0;
        }
        
        .navbar.scrolled {
            background-color: var(--header-bg) !important;
            padding-top: 10px;
            padding-bottom: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .navbar-brand {
            font-weight: bold;
            font-size: 1.8rem;
            color: var(--primary-color) !important;
            font-family: 'Playfair Display', serif;
        }
        
        .nav-link {
            position: relative;
            margin: 0 15px;
            font-weight: 500;
            color: var(--nav-link-color) !important;
            transition: color 0.3s;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: var(--primary-color);
            transition: width 0.3s;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        .nav-link:hover {
            color: var(--primary-color) !important;
        }
        
        /* Hero Section */
        .hero {
            padding: 160px 0 120px;
            text-align: center;
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1518837695005-2083093ee35b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') center/cover no-repeat fixed;
            color: white;
            transition: background 0.5s ease;
        }

        .festive-theme .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(26, 71, 42, 0.7)), 
                        url('https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') center/cover no-repeat fixed;
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            letter-spacing: 2px;
            margin-bottom: 25px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
            font-weight: 700;
        }
        
        .hero p {
            font-size: 1.4rem;
            margin-bottom: 40px;
            font-weight: 300;
        }
        
        /* Buttons */
        .btn {
            background-color: var(--primary-color);
            border: none;
            padding: 12px 35px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            transition: all 0.3s;
            color: white;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }
        
        .btn:hover {
            background-color: var(--gold-dark);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            color: white;
        }
        
        .btn-outline-light {
            border: 2px solid white;
            color: white;
            background-color: transparent;
        }
        
        .btn-outline-light:hover {
            background-color: white;
            color: var(--primary-color);
        }
        
        /* Sections */
        .section {
            padding: 100px 0;
            position: relative;
            background-color: var(--section-bg);
            transition: background-color 0.3s ease;
        }
        
        .section.bg-dark {
            background-color: var(--secondary-color) !important;
        }
        
        .section-title {
            position: relative;
            display: inline-block;
            margin-bottom: 60px;
            font-weight: 700;
            color: var(--text-color);
            padding-bottom: 15px;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            width: 80px;
            height: 3px;
            background-color: var(--primary-color);
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }
        
        /* Pagination */
        .pagination-nav {
            background-color: rgba(0, 0, 0, 0.05);
            padding: 20px 0;
            margin-bottom: 40px;
        }
        
        .pagination {
            justify-content: center;
        }
        
        .page-item.active .page-link {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .page-link {
            color: var(--text-color);
            background-color: var(--card-bg);
            border: 1px solid rgba(0, 0, 0, 0.1);
            margin: 0 5px;
            transition: all 0.3s;
            border-radius: 5px;
        }
        
        .page-link:hover {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        /* Service Boxes */
        .service-box {
            padding: 40px 30px;
            background-color: var(--card-bg);
            border-radius: 15px;
            transition: all 0.4s;
            height: 100%;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            text-align: center;
            border-bottom: 4px solid var(--primary-color);
        }
        
        .service-box i {
            font-size: 3.5rem;
            color: var(--primary-color);
            margin-bottom: 25px;
            display: block;
        }
        
        .service-box h4 {
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-color);
        }
        
        .service-box p {
            margin-bottom: 25px;
        }
        
        .service-box:hover {
            transform: translateY(-15px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        /* Holiday Service Box */
        .holiday-service {
            border-bottom: 4px solid var(--christmas-red) !important;
        }

        .holiday-service i {
            color: var(--christmas-red) !important;
        }
        
        /* Image Slider */
        .image-slider {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }
        
        .carousel-item img {
            height: 600px;
            object-fit: cover;
        }
        
        .carousel-caption {
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 25px;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            max-width: 700px;
        }
        
        .carousel-caption h5 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: var(--gold-light);
        }
        
        /* Back to top button */
        #backToTop {
            position: fixed;
            bottom: 40px;
            right: 40px;
            display: none;
            z-index: 99;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            padding: 0;
            font-size: 1.5rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
        }
        
        #backToTop:hover {
            background-color: var(--gold-dark);
            transform: translateY(-5px);
        }
        
        /* Footer */
        footer {
            background-color: var(--footer-bg);
            color: white;
            padding: 60px 0 30px;
            transition: background-color 0.3s ease;
        }
        
        footer h5 {
            color: var(--gold-light);
            margin-bottom: 25px;
            font-weight: 700;
            font-size: 1.3rem;
        }
        
        footer ul li {
            margin-bottom: 12px;
        }
        
        footer a {
            color: #ddd;
            transition: color 0.3s;
        }
        
        footer a:hover {
            color: var(--gold-light);
            text-decoration: none;
        }
        
        .social-icons a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.2rem;
            margin: 0 8px;
            transition: all 0.3s;
        }
        
        .social-icons a:hover {
            background-color: var(--primary-color);
            color: white;
            transform: translateY(-5px);
        }
        
        /* Lazy loading */
        img.lazy {
            opacity: 0;
            transition: opacity 0.5s;
            border-radius: 10px;
        }
        
        img.lazy-loaded {
            opacity: 1;
        }
        
        /* Modal styling */
        .modal-content {
            background-color: var(--card-bg);
            color: var(--text-color);
            border-radius: 15px;
            border: none;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }
        
        .modal-header {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            padding: 20px 25px;
        }
        
        .modal-footer {
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            padding: 15px 25px;
        }
        
        .modal-body {
            padding: 25px;
        }
        
        .modal-title {
            color: var(--primary-color);
            font-weight: 700;
        }
        
        /* Theme toggle button */
        #themeToggle {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.3rem;
            padding: 8px 15px;
            color: var(--text-color);
            transition: color 0.3s;
        }
        
        #themeToggle:hover {
            color: var(--primary-color);
        }
        
        /* Contact info box */
        .contact-info {
            background: linear-gradient(135deg, var(--card-bg) 0%, var(--card-bg) 100%);
            color: var(--text-color);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            height: 100%;
            border-left: 4px solid var(--primary-color);
        }
        
        .contact-info ul li {
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
        }
        
        .contact-info i {
            color: var(--primary-color);
            font-size: 1.2rem;
            margin-right: 15px;
            margin-top: 3px;
        }
        
        /* DevTools Warning Modal */
        #devtoolsWarning {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
        }
        
        .devtools-content {
            background-color: #ff4444;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            max-width: 600px;
            box-shadow: 0 15px 40px rgba(255, 0, 0, 0.3);
        }
        
        .devtools-content h2 {
            margin-bottom: 20px;
            color: white;
            font-size: 2rem;
        }
        
        .devtools-content p {
            margin-bottom: 25px;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        /* Decorative elements */
        .decorative-divider {
            height: 4px;
            width: 80px;
            background: linear-gradient(to right, transparent, var(--primary-color), transparent);
            margin: 30px auto;
        }
        
        .gold-border {
            border: 2px solid var(--primary-color);
            border-radius: 10px;
        }
        
        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .hero h1 {
                font-size: 3rem;
            }
        }
        
        @media (max-width: 992px) {
            .hero {
                padding: 140px 0 100px;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1.2rem;
            }
            
            .section {
                padding: 80px 0;
            }
            
            .carousel-item img {
                height: 500px;
            }
        }
        
        @media (max-width: 768px) {
            .hero {
                padding: 120px 0 80px;
                min-height: 80vh;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .section {
                padding: 60px 0;
            }
            
            .section-title {
                margin-bottom: 40px;
            }
            
            .carousel-item img {
                height: 400px;
            }
            
            .carousel-caption {
                bottom: 30px;
                padding: 15px;
            }
            
            .carousel-caption h5 {
                font-size: 1.4rem;
            }
            
            .service-box {
                padding: 30px 20px;
            }
        }
        
        @media (max-width: 576px) {
            .hero {
                padding: 100px 0 60px;
                min-height: 70vh;
            }
            
            .hero h1 {
                font-size: 1.8rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .btn {
                padding: 10px 25px;
                font-size: 0.9rem;
            }
            
            .carousel-item img {
                height: 300px;
            }
            
            .carousel-caption {
                bottom: 20px;
                padding: 10px;
            }
            
            .carousel-caption h5 {
                font-size: 1.1rem;
            }
            
            .carousel-caption p {
                font-size: 0.8rem;
                display: none;
            }
            
            #backToTop {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body class="captcha-required">
    <!-- CAPTCHA Verification Modal -->
    <div id="captchaModal" class="captcha-modal">
        <div class="captcha-container">
            <h2><i class="fas fa-shield-alt"></i> Xác Thực Truy Cập</h2>
            <p>Vui lòng xác thực bạn không phải là robot để tiếp tục truy cập website Giáo Họ Trung Đồng.</p>
            
            <div class="cf-turnstile" 
                 data-sitekey="0x4AAAAAACJZVilDkba-lDL6"
                 data-callback="onCaptchaSuccess"
                 data-error-callback="onCaptchaError"
                 data-expired-callback="onCaptchaExpired"
                 style="display: inline-block; margin: 20px 0;">
            </div>
            
            <div id="captchaSuccess" class="captcha-verified">
                <i class="fas fa-check-circle"></i> Xác thực thành công! Đang chuyển hướng...
            </div>
            
            <div class="mt-4">
                <p style="font-size: 0.9rem; opacity: 0.8;">
                    <i class="fas fa-info-circle"></i> Bảo vệ bởi Cloudflare Turnstile
                </p>
            </div>
        </div>
    </div>

    <!-- Christmas & New Year Elements -->
    <div class="christmas-newyear-overlay">
        <!-- Snow Effect Container -->
        <div id="snow"></div>
        
        <!-- Floating Decorations -->
        <div class="floating-decoration snowflake" style="left: 10%; top: 20%;">
            <i class="fas fa-snowflake"></i>
        </div>
        <div class="floating-decoration star" style="left: 85%; top: 40%;">
            <i class="fas fa-star"></i>
        </div>
        <div class="floating-decoration gift" style="left: 70%; top: 70%;">
            <i class="fas fa-gift"></i>
        </div>
        
        <!-- Christmas Lights -->
        <div class="christmas-lights">
            <div class="light" style="--i:0"></div>
            <div class="light" style="--i:1"></div>
            <div class="light" style="--i:2"></div>
            <div class="light" style="--i:3"></div>
            <div class="light" style="--i:4"></div>
            <div class="light" style="--i:5"></div>
            <div class="light" style="--i:6"></div>
            <div class="light" style="--i:7"></div>
            <div class="light" style="--i:8"></div>
            <div class="light" style="--i:9"></div>
        </div>
    </div>

    <!-- Holiday Greeting Banner -->
    <div class="holiday-banner">
        <div class="container">
            <marquee behavior="scroll" direction="left">
                <span class="greeting-text">
                    <i class="fas fa-star"></i> CHÚC MỪNG GIÁNG SINH & NĂM MỚI 2025 
                    <i class="fas fa-tree"></i> Giáo Họ Trung Đồng kính chúc quý vị bình an và hạnh phúc 
                    <i class="fas fa-gift"></i> "Vinh danh Thiên Chúa trên các tầng trời"
                </span>
            </marquee>
            <button class="holiday-toggle" onclick="toggleHolidayEffects()">
                <i class="fas fa-snowflake"></i>
            </button>
        </div>
    </div>

    <!-- Main Content (sẽ được hiển thị sau khi xác thực CAPTCHA) -->
    <div id="main-content">
        <!-- DevTools Warning (hidden by default) -->
        <div id="devtoolsWarning" style="display: none;">
            <div class="devtools-content">
                <h2><i class="fas fa-exclamation-triangle"></i> Cảnh báo!</h2>
                <p>Việc sử dụng Developer Tools (Công cụ dành cho nhà phát triển) trên trang web này không được cho phép.</p>
                <p>Vui lòng đóng DevTools để tiếp tục sử dụng trang web.</p>
                <button id="closeWarning" class="btn btn-light">Tôi đã hiểu</button>
            </div>
        </div>

        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
            <div class="container">
                <a class="navbar-brand" href="index.html">Giáo Họ Trung Đồng</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item"><a class="nav-link" href="#about">Giới Thiệu</a></li>
                        <li class="nav-item"><a class="nav-link" href="#services">Hoạt Động</a></li>
                        <li class="nav-item"><a class="nav-link" href="#gallery">Hình Ảnh</a></li>
                        <li class="nav-item"><a class="nav-link" href="#contact">Liên Hệ</a></li>
                        <li class="nav-item">
                            <button id="themeToggle" class="btn btn-link nav-link" title="Chuyển đổi chế độ sáng/tối">
                                <i class="fas fa-moon"></i>
                            </button>
                        </li>
                    </ul>
                    <ul class="navbar-nav social-icons ml-3">
                        <li class="nav-item">
                            <a class="nav-link" href="https://www.facebook.com/GHtrungdong" target="_blank" title="Facebook">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://www.youtube.com/@nhothogiaohotrungong7117" target="_blank" title="YouTube">
                                <i class="fab fa-youtube"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="sitemap.xml" target="_blank" title="Sitemap">
                                <i class="fas fa-sitemap"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <header class="hero">
            <div class="container hero-content animate-fade-in">
                <h1 class="animate__animated animate__fadeInDown" id="heroTitle">Chào Mừng Đến Giáo Họ Trung Đồng</h1>
                <div class="decorative-divider"></div>
                <p class="animate__animated animate__fadeInUp animate__delay-1s" id="heroSubtitle">"Vinh danh Thiên Chúa trên các tầng trời và bình an dưới thế cho người thiện tâm"</p>
                <div class="animate__animated animate__fadeInUp animate__delay-2s mt-4">
                    <a href="kinhnguyen/kinh-nguyen.html" class="btn btn-primary btn-lg mr-3">
                        <i class="fas fa-pray"></i> Kinh Nguyện
                    </a>
                    <a href="#about" class="btn btn-outline-light btn-lg">Tìm Hiểu Thêm</a>
                    <a href="noel2024.html" class="btn btn-festive btn-lg ml-3 d-none" id="festiveButton" onclick="addConfetti()">
                        <i class="fas fa-gift"></i> Mùa Giáng Sinh
                    </a>
                </div>
            </div>
        </header>

        <!-- Pagination Navigation -->
        <nav class="pagination-nav">
            <div class="container">
                <ul class="pagination">
                    <li class="page-item"><a class="page-link" href="#about">Giới Thiệu</a></li>
                    <li class="page-item"><a class="page-link" href="#gallery">Hình Ảnh</a></li>
                    <li class="page-item"><a class="page-link" href="#services">Hoạt Động</a></li>
                    <li class="page-item"><a class="page-link" href="#contact">Liên Hệ</a></li>
                </ul>
            </div>
        </nav>

        <!-- About Section -->
        <section id="about" class="section">
            <div class="container">
                <h2 class="text-center section-title">Giới Thiệu</h2>
                <div class="row align-items-center">
                    <div class="col-lg-6 mb-5 mb-lg-0">
                        <img data-src="images/9_.png" alt="Giáo Họ Trung Đồng" class="img-fluid rounded shadow-lg lazy lazy-loaded" style="opacity: 1;">
                    </div>
                    <div class="col-lg-6">
                        <h3 class="mb-4">Nhà Thờ Giáo Họ Trung Đồng</h3>
                        <p class="mb-4">Nhà thờ Giáo họ Trung Đồng mang nét đẹp giản dị nhưng trang nghiêm, nằm giữa cánh đồng xanh mướt của vùng quê Nam Định. Đây là nơi mà các tín hữu cùng nhau cầu nguyện, tham gia hoạt động tôn giáo và gìn giữ những giá trị văn hóa, truyền thống của giáo họ qua nhiều thế hệ.</p>
                        <p class="mb-4">Với lịch sử hình thành và phát triển lâu đời, Giáo họ Trung Đồng đã trở thành một phần không thể thiếu trong đời sống tâm linh của cộng đồng giáo dân nơi đây.</p>
                        <div class="mt-5">
                            <a href="lichsu.html" class="btn btn-outline-primary">Lịch Sử Hình Thành</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Image Slider Section -->
        <section id="gallery" class="section bg-dark">
            <div class="container">
                <h2 class="text-center section-title">Hình Ảnh Hoạt Động</h2>
                <div class="image-slider carousel slide" id="mainSlider" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#mainSlider" data-slide-to="0" class="active"></li>
                        <li data-target="#mainSlider" data-slide-to="1"></li>
                        <li data-target="#mainSlider" data-slide-to="2"></li>
                        <li data-target="#mainSlider" data-slide-to="3"></li>
                        <li data-target="#mainSlider" data-slide-to="4"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img data-src="images/1.jpg" alt="Hoạt động 1" class="d-block w-100 lazy">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Thánh lễ Chúa Nhật</h5>
                                <p>Cộng đoàn cùng tham dự thánh lễ</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img data-src="images/2.jpg" alt="Hoạt động 2" class="d-block w-100 lazy">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Lễ Giáng Sinh</h5>
                                <p>Không khí ấm áp trong đêm Noel</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img data-src="images/9.jpg" alt="Hoạt động 3" class="d-block w-100 lazy">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Lớp Giáo Lý</h5>
                                <p>Các em thiếu nhi học giáo lý</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img data-src="images/4.jpg" alt="Hoạt động 4" class="d-block w-100 lazy">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Hoạt Động Thiện Nguyện</h5>
                                <p>Giúp đỡ những người có hoàn cảnh khó khăn</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img data-src="images/6.jpg" alt="Hoạt động 5" class="d-block w-100 lazy">
                            <div class="carousel-caption d-none d-md-block">
                                <h5>Đại Hội Giới Trẻ</h5>
                                <p>Các bạn trẻ tham gia hoạt động cộng đồng</p>
                            </div>
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#mainSlider" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#mainSlider" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
                <div class="text-center mt-5">
                    <a href="gallery.html" class="btn btn-primary btn-lg">Xem Thêm Hình Ảnh</a>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="section">
            <div class="container">
                <h2 class="text-center section-title">Hoạt Động</h2>
                <div class="row">
                    <div class="col-md-4 mb-4">
                        <div class="service-box">
                            <i class="fas fa-church"></i>
                            <h4>Thánh Lễ</h4>
                            <p>Các buổi thánh lễ hàng tuần để kết nối và cầu nguyện cùng nhau.</p>
                            <ul class="list-unstyled mb-4">
                                <li class="mb-2"><a href="loichuahangngay.html" class="text-reset"><i class="fas fa-arrow-right mr-2"></i>Lời Chúa hàng ngày</a></li>
                                <li class="mb-2"><a href="thanhle.html" class="text-reset"><i class="fas fa-arrow-right mr-2"></i>Lịch Thánh Lễ</a></li>
                                <li><a href="baihatthanhca.html" class="text-reset"><i class="fas fa-arrow-right mr-2"></i>Bài Hát Thánh Ca</a></li>
                            </ul>
                            <a href="thanhle.html" class="btn btn-sm btn-outline-primary mt-3">Chi Tiết</a>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="service-box holiday-service">
                            <i class="fas fa-tree"></i>
                            <h4>Mùa Giáng Sinh & Năm Mới</h4>
                            <p>Chương trình đặc biệt mừng Chúa Giáng Sinh và đón năm mới 2025.</p>
                            <ul class="list-unstyled mb-4">
                                <li class="mb-2"><i class="fas fa-calendar-alt mr-2"></i>Thánh Lễ Nửa Đêm: 24/12</li>
                                <li class="mb-2"><i class="fas fa-calendar-alt mr-2"></i>Lễ Giáng Sinh: 25/12</li>
                                <li><i class="fas fa-calendar-alt mr-2"></i>Lễ Tạ Ơn Cuối Năm: 31/12</li>
                            </ul>
                            <a href="noel2024.html" class="btn btn-sm btn-festive mt-3" onclick="addConfetti()">Chi Tiết</a>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="service-box">
                            <i class="fas fa-book-open"></i>
                            <h4>Các Lớp Học Giáo Lý</h4>
                            <p>Giúp các thành viên học hỏi và phát triển đức tin.</p>
                            <ul class="list-unstyled mb-4">
                                <li class="mb-2"><a href="lopgiaoly.html" class="text-reset"><i class="fas fa-arrow-right mr-2"></i>Lớp học giáo lý trẻ em</a></li>
                                <li class="mb-2"><a href="lopgiaolynguoilon.html" class="text-reset"><i class="fas fa-arrow-right mr-2"></i>Lớp học người lớn</a></li>
                                <li><a href="hoithao.html" class="text-reset"><i class="fas fa-arrow-right mr-2"></i>Hội Thảo </a></li>
                            </ul>
                            <a href="giaoly.html" class="btn btn-sm btn-outline-primary mt-3">Chi Tiết</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="section bg-dark">
            <div class="container">
                <h2 class="text-center section-title">Liên Hệ</h2>
                <div class="row align-items-stretch">
                    <!-- Thông tin liên hệ (chiếm 6 cột) -->
                    <div class="col-lg-6 mb-4 mb-lg-0">
                        <div class="contact-info">
                            <h4 class="text-center mb-4">Thông Tin Liên Hệ</h4>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-map-marker-alt"></i> Địa chỉ: Xóm 4 - Xuân Phú - Xuân Trường - Nam Định</li>
                                <li><i class="fas fa-phone"></i> Điện thoại: 0395.729.624</li>
                                <li><i class="fas fa-envelope"></i> Email: nhathogiaohotrungdong@gmail.com</li>
                                <li><i class="fas fa-clock"></i> Giờ Lễ Chúa Nhật: 7:00 - 9:00 - 18:30</li>
                            </ul>
                            <div class="social-icons text-center mt-5">
                                <a href="https://www.facebook.com/GHtrungdong" target="_blank"><i class="fab fa-facebook-f"></i></a>
                                <a href="https://www.youtube.com/@nhothogiaohotrungong7117" target="_blank"><i class="fab fa-youtube"></i></a>
                                <a href="#" target="_blank"><i class="fab fa-twitter"></i></a>
                                <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Bản đồ (chiếm 6 cột) -->
                    <div class="col-lg-6">
                        <div class="h-100 rounded shadow-lg" style="overflow: hidden;">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2268.42633364598!2d106.40508772447271!3d20.289048905010894!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3136076dd93e8fad%3A0x59521bfb4123e299!2zTmjDoCB0aOG7nSBHacOhbyBo4buNIFRydW5nIMSQ4buTbmc!5e0!3m2!1svi!2s!4v1743525274633!5m2!1svi!2s" 
                                    width="100%" 
                                    height="100%" 
                                    style="border:0; min-height: 300px;" 
                                    allowfullscreen="" 
                                    loading="lazy"
                                    title="Bản đồ Nhà thờ Giáo họ Trung Đồng">
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center">
            <div class="container">
                <div class="row text-md-left">
                    <div class="col-md-4 mb-4 mb-md-0">
                        <h5>Giáo Họ Trung Đồng</h5>
                        <p>Giáo họ Trung Đồng - Giáo xứ Lạc Thành</p>
                        <p>Giáo phận Bùi Chu</p>
                    </div>
                    <div class="col-md-4 mb-4 mb-md-0">
                        <h5>Liên Kết Nhanh</h5>
                        <ul class="list-unstyled">
                            <li><a href="index.html">Trang Chủ</a></li>
                            <li><a href="#about">Giới Thiệu</a></li>
                            <li><a href="#services">Hoạt Động</a></li>
                            <li><a href="#contact">Liên Hệ</a></li>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <h5>Liên Hệ</h5>
                        <p>Xóm 4 Xuân Phú - Xuân Trường - Nam Định</p>
                        <p>Email: nhathogiaohotrungdong@gmail.com</p>
                    </div>
                </div>
                <hr class="my-4 bg-light">
                <div class="row align-items-center">
                    <div class="col-md-6 text-md-left mb-3 mb-md-0">
                        <p class="mb-0">&copy; 2024 Giáo Họ Trung Đồng. All Rights Reserved.</p>
                    </div>
                    <div class="col-md-6 text-md-right">
                        <a href="privacy.html" class="mr-3">Chính Sách Bảo Mật</a>
                        <a href="terms.html">Điều Khoản Sử Dụng</a>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Back to Top Button -->
        <button id="backToTop" class="btn btn-primary" title="Lên đầu trang">
            <i class="fas fa-arrow-up"></i>
        </button>

        <!-- Announcement Modal -->
        <div class="modal fade" id="announcementModal" tabindex="-1" role="dialog" aria-labelledby="announcementModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="announcementModalLabel">Thông Báo Mới</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <h6>Tuần Thánh 2015</h6>
                        <p>Chương trình Tuần Thánh - Giáo Họ Trung Đồng.</p>
                        <p>Chương trình Tuần Thánh tại Giáo Họ Trung Đồng, Giáo Xứ Lạc Thành.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>
                        <a href="tuanthanh.html" class="btn btn-primary">Xem Chi Tiết</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Holiday Modal -->
        <div class="modal fade" id="holidayModal" tabindex="-1" role="dialog" aria-labelledby="holidayModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content holiday-modal">
                    <div class="modal-header">
                        <h5 class="modal-title" id="holidayModalLabel">
                            <i class="fas fa-tree mr-2"></i>Chúc Mừng Giáng Sinh & Năm Mới 2025!
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body text-center">
                        <div class="holiday-icon mb-3">
                            <i class="fas fa-tree"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-gift"></i>
                        </div>
                        <h4 class="mb-3">"Bình an dưới thế cho người thiện tâm"</h4>
                        <p>Giáo Họ Trung Đồng kính chúc quý vị và gia đình một mùa Giáng Sinh an lành và một Năm Mới 2025 tràn đầy hồng ân Chúa.</p>
                        <div class="countdown-container mt-4">
                            <h6>Đếm ngược đến Năm Mới 2025:</h6>
                            <div id="newYearCountdown" class="countdown">
                                <div class="countdown-item">
                                    <span id="days">00</span>
                                    <small>Ngày</small>
                                </div>
                                <div class="countdown-item">
                                    <span id="hours">00</span>
                                    <small>Giờ</small>
                                </div>
                                <div class="countdown-item">
                                    <span id="minutes">00</span>
                                    <small>Phút</small>
                                </div>
                                <div class="countdown-item">
                                    <span id="seconds">00</span>
                                    <small>Giây</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>
                        <a href="noel2024.html" class="btn btn-primary">Xem Hoạt Động Noel</a>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- Kết thúc #main-content -->

    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    
    <!-- Custom JS -->
    <script>
        // CAPTCHA Handling
        let captchaVerified = false;

        function onCaptchaSuccess(token) {
            console.log('CAPTCHA success:', token);
            captchaVerified = true;
            
            // Hiển thị thông báo thành công
            document.getElementById('captchaSuccess').style.display = 'block';
            
            // Xác thực phía server (trong thực tế cần gửi token đến server)
            // Ở đây chúng ta giả lập xác thực thành công sau 1 giây
            setTimeout(function() {
                // Lưu trạng thái đã xác thực vào sessionStorage
                sessionStorage.setItem('captcha_verified', 'true');
                sessionStorage.setItem('captcha_timestamp', Date.now().toString());
                
                // Ẩn modal CAPTCHA
                document.getElementById('captchaModal').style.display = 'none';
                
                // Hiển thị nội dung chính
                document.body.classList.remove('captcha-required');
                
                console.log('CAPTCHA verification completed');
                
                // Initialize holiday effects after CAPTCHA
                initializePageAfterCaptcha();
            }, 1000);
        }

        function onCaptchaError() {
            console.log('CAPTCHA error');
            alert('Có lỗi xảy ra trong quá trình xác thực. Vui lòng thử lại.');
        }

        function onCaptchaExpired() {
            console.log('CAPTCHA expired');
            captchaVerified = false;
        }

        // Initialize page after CAPTCHA verification
        function initializePageAfterCaptcha() {
            // Check if it's holiday season
            if (isHolidaySeason()) {
                initHolidayEffects();
                updateHeroSection();
                
                // Show festive button
                document.getElementById('festiveButton').classList.remove('d-none');
            }
        }

        // Holiday Functions
        function initHolidayEffects() {
            // Create snow particles
            createSnow();
            
            // Set Christmas theme
            document.body.classList.add('festive-theme');
            document.querySelector('.christmas-newyear-overlay').classList.add('active');
            
            // Show holiday modal after 3 seconds
            setTimeout(() => {
                $('#holidayModal').modal('show');
            }, 3000);
            
            // Initialize countdown
            updateCountdown();
            setInterval(updateCountdown, 1000);
            
            // Add holiday music (optional)
            // addHolidayMusic();
        }

        // Snow Effect
        function createSnow() {
            const snow = document.getElementById('snow');
            snow.innerHTML = '';
            
            for (let i = 0; i < 80; i++) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake-particle';
                snowflake.style.cssText = `
                    position: absolute;
                    width: ${Math.random() * 8 + 4}px;
                    height: ${Math.random() * 8 + 4}px;
                    background: white;
                    border-radius: 50%;
                    opacity: ${Math.random() * 0.5 + 0.3};
                    top: -10px;
                    left: ${Math.random() * 100}%;
                    animation: fall ${Math.random() * 5 + 5}s linear infinite;
                    animation-delay: ${Math.random() * 5}s;
                    pointer-events: none;
                `;
                snow.appendChild(snowflake);
            }
            
            // Add CSS for fall animation
            if (!document.querySelector('#snow-animation-style')) {
                const style = document.createElement('style');
                style.id = 'snow-animation-style';
                style.textContent = `
                    @keyframes fall {
                        to {
                            transform: translateY(100vh) rotate(360deg);
                            opacity: 0;
                        }
                    }
                    .snowflake-particle {
                        filter: blur(${Math.random()}px);
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Countdown to New Year
        function updateCountdown() {
            const now = new Date();
            const newYear = new Date(now.getFullYear() + 1, 0, 1);
            const diff = newYear - now;
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            document.getElementById('days').textContent = days.toString().padStart(2, '0');
            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
        }

        // Toggle holiday effects
        function toggleHolidayEffects() {
            const overlay = document.querySelector('.christmas-newyear-overlay');
            const banner = document.querySelector('.holiday-banner');
            const body = document.body;
            
            if (overlay.classList.contains('active')) {
                overlay.classList.remove('active');
                body.classList.remove('festive-theme');
                banner.style.opacity = '0.5';
                localStorage.setItem('holidayEffects', 'disabled');
            } else {
                overlay.classList.add('active');
                body.classList.add('festive-theme');
                banner.style.opacity = '1';
                localStorage.setItem('holidayEffects', 'enabled');
            }
        }

        // Update hero section with holiday message
        function updateHeroSection() {
            const heroTitle = document.getElementById('heroTitle');
            const heroSubtitle = document.getElementById('heroSubtitle');
            
            // Save original content
            if (!heroTitle.dataset.original) {
                heroTitle.dataset.original = heroTitle.textContent;
                heroSubtitle.dataset.original = heroSubtitle.textContent;
            }
            
            // Update with holiday message
            heroTitle.innerHTML = 'Chúc Mừng Giáng Sinh & Năm Mới 2025';
            heroSubtitle.innerHTML = '"Bình an dưới thế cho người thiện tâm" - Chúc mừng Chúa Giáng Sinh';
        }

        // Check if it's holiday season (Dec 1 - Jan 10)
        function isHolidaySeason() {
            const now = new Date();
            const month = now.getMonth() + 1; // 1-12
            const day = now.getDate();
            
            return (month === 12 || (month === 1 && day <= 10));
        }

        // Optional: Holiday Background Music
        function addHolidayMusic() {
            // Create audio element
            const audio = document.createElement('audio');
            audio.id = 'holidayMusic';
            audio.src = 'https://assets.mixkit.co/music/preview/mixkit-jingle-bells-311.mp3';
            audio.loop = true;
            audio.volume = 0.2;
            audio.style.display = 'none';
            
            // Add play/pause control
            const musicControl = document.createElement('button');
            musicControl.className = 'music-control';
            musicControl.innerHTML = '<i class="fas fa-music"></i>';
            musicControl.title = 'Bật/Tắt nhạc Giáng Sinh';
            
            musicControl.onclick = function() {
                if (audio.paused) {
                    audio.play().catch(e => console.log('Autoplay prevented:', e));
                    this.innerHTML = '<i class="fas fa-pause"></i>';
                } else {
                    audio.pause();
                    this.innerHTML = '<i class="fas fa-music"></i>';
                }
            };
            
            document.body.appendChild(audio);
            document.body.appendChild(musicControl);
        }

        // Add festive confetti on button click
        function addConfetti() {
            const confettiCount = 80;
            const container = document.createElement('div');
            container.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 10000;
            `;
            
            const colors = ['#e74c3c', '#f1c40f', '#3498db', '#2ecc71'];
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.style.cssText = `
                    position: absolute;
                    width: 8px;
                    height: 8px;
                    background: ${colors[Math.floor(Math.random() * colors.length)]};
                    top: -10px;
                    left: ${Math.random() * 100}%;
                    animation: confetti-fall ${Math.random() * 3 + 2}s linear forwards;
                    border-radius: ${Math.random() > 0.5 ? '50%' : '0'};
                    pointer-events: none;
                `;
                container.appendChild(confetti);
            }
            
            document.body.appendChild(container);
            
            setTimeout(() => {
                document.body.removeChild(container);
            }, 3000);
            
            // Add confetti animation style if not exists
            if (!document.querySelector('#confetti-animation-style')) {
                const style = document.createElement('style');
                style.id = 'confetti-animation-style';
                style.textContent = `
                    @keyframes confetti-fall {
                        to {
                            transform: translateY(100vh) rotate(360deg);
                            opacity: 0;
                        }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Kiểm tra trạng thái xác thực khi trang load
        document.addEventListener('DOMContentLoaded', function() {
            const verified = sessionStorage.getItem('captcha_verified');
            const timestamp = sessionStorage.getItem('captcha_timestamp');
            const now = Date.now();
            
            // Nếu đã xác thực trong vòng 24 giờ
            if (verified === 'true' && timestamp && (now - parseInt(timestamp)) < 24 * 60 * 60 * 1000) {
                document.getElementById('captchaModal').style.display = 'none';
                document.body.classList.remove('captcha-required');
                
                // Initialize holiday effects if it's holiday season
                if (isHolidaySeason()) {
                    // Check user preference
                    const holidayPref = localStorage.getItem('holidayEffects');
                    if (holidayPref !== 'disabled') {
                        initHolidayEffects();
                        updateHeroSection();
                        document.getElementById('festiveButton').classList.remove('d-none');
                    }
                }
            } else {
                // Hiển thị CAPTCHA và ẩn nội dung
                document.body.classList.add('captcha-required');
                sessionStorage.removeItem('captcha_verified');
                sessionStorage.removeItem('captcha_timestamp');
            }

            // Dark/Light mode toggle
            const themeToggle = document.getElementById('themeToggle');
            const icon = themeToggle.querySelector('i');
            
            // Kiểm tra theme đã lưu hoặc preference của hệ thống
            const savedTheme = localStorage.getItem('theme') || 
                              (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            
            // Áp dụng theme
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateIcon(savedTheme);
            
            // Xử lý click nút
            themeToggle.addEventListener('click', function() {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                updateIcon(newTheme);
            });
            
            function updateIcon(theme) {
                if (theme === 'dark') {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                } else {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                }
            }

            // Lazy loading images
            const lazyImages = [].slice.call(document.querySelectorAll("img.lazy"));
            
            if ("IntersectionObserver" in window) {
                let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
                    entries.forEach(function(entry) {
                        if (entry.isIntersecting) {
                            let lazyImage = entry.target;
                            lazyImage.src = lazyImage.dataset.src;
                            lazyImage.classList.add("lazy-loaded");
                            lazyImageObserver.unobserve(lazyImage);
                        }
                    });
                });

                lazyImages.forEach(function(lazyImage) {
                    lazyImageObserver.observe(lazyImage);
                });
            } else {
                // Fallback for browsers without IntersectionObserver
                lazyImages.forEach(function(lazyImage) {
                    lazyImage.src = lazyImage.dataset.src;
                    lazyImage.classList.add("lazy-loaded");
                });
            }
            
            // Back to top button
            const backToTopButton = document.getElementById("backToTop");
            window.addEventListener("scroll", function() {
                if (window.pageYOffset > 300) {
                    backToTopButton.style.display = "block";
                } else {
                    backToTopButton.style.display = "none";
                }
            });
            
            backToTopButton.addEventListener("click", function() {
                window.scrollTo({top: 0, behavior: "smooth"});
            });
            
            // Navbar scroll effect
            $(window).scroll(function() {
                if ($(this).scrollTop() > 100) {
                    $('.navbar').addClass('scrolled');
                } else {
                    $('.navbar').removeClass('scrolled');
                }
            });
            
            // Smooth scrolling for anchor links
            $('a[href*="#"]').on('click', function(e) {
                if (this.pathname === window.location.pathname && this.hash !== "") {
                    e.preventDefault();
                    
                    $('html, body').animate(
                        {
                            scrollTop: $($(this).attr('href')).offset().top - 70,
                        },
                        500,
                        'linear'
                    );
                }
            });
            
            // Show announcement modal after 5 seconds
            setTimeout(function() {
                $('#announcementModal').modal('show');
            }, 5000);
            
            // DevTools Detection and Prevention
            const devtoolsWarning = document.getElementById('devtoolsWarning');
            const closeWarningBtn = document.getElementById('closeWarning');
            
            // Function to check if DevTools is open
            function checkDevTools() {
                const widthThreshold = window.outerWidth - window.innerWidth > 160;
                const heightThreshold = window.outerHeight - window.innerHeight > 160;
                
                if (
                    !(heightThreshold && widthThreshold) &&
                    ((window.Firebug && window.Firebug.chrome && window.Firebug.chrome.isInitialized) || 
                    widthThreshold || heightThreshold)
                ) {
                    devtoolsWarning.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                }
            }
            
            // Check periodically
            setInterval(checkDevTools, 1000);
            
            // Check on resize
            window.addEventListener('resize', checkDevTools);
            
            // Check on key shortcuts (F12, Ctrl+Shift+I, etc.)
            document.addEventListener('keydown', function(e) {
                // F12
                if (e.keyCode === 123) {
                    e.preventDefault();
                    devtoolsWarning.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                }
                // Ctrl+Shift+I
                if (e.ctrlKey && e.shiftKey && e.keyCode === 73) {
                    e.preventDefault();
                    devtoolsWarning.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                }
                // Ctrl+U
                if (e.ctrlKey && e.keyCode === 85) {
                    e.preventDefault();
                    devtoolsWarning.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                }
            });
            
            // Close warning button
            closeWarningBtn.addEventListener('click', function() {
                devtoolsWarning.style.display = 'none';
                document.body.style.overflow = 'auto';
            });
            
            // Right-click disable
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                devtoolsWarning.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            });
            
            // Add festive greeting to console
            if (isHolidaySeason()) {
                console.log('%c🎄 Chúc Mừng Giáng Sinh & Năm Mới 2025 🎉', 
                    'color: #e74c3c; font-size: 18px; font-weight: bold;');
                console.log('%cGiáo Họ Trung Đồng kính chúc quý vị bình an và hạnh phúc!', 
                    'color: #2ecc71; font-size: 14px;');
            }
        });

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>
</html>
